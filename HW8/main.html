<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>CSCI 571 HW8 bootstrap, AJAX, HTML5, CSS, PHP</title>
        
        <!-- bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link href="css/hw8.css" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
                <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    </head>    
    <body ng-app="myapp">
        
        <div class="container-fluid">
            <div class="row navbar navbar-default" >
                <div class="col-xs-1 vcenter">
                    <button class="navbar collapse in" data-toggle="collapse" id="menu-toggle-2"> 
                        <span class="fa fa-bars" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="col-xs-11">
                    <p class="text-center"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/logo.png"><span class="h3">Congress API</span></p>
                </div>
            </div>
        </div>
        
        <div id="wrapper">
            <div id="sidebar-wrapper">
                <ul class="sidebar-nav nav-stacked nav-default nav-pills" id="menu">
                    <li class="active">
                    <a href="#" onclick="getLegislatorDetails()"><span class="fa fa-user" aria-hidden="true"></span> Legislators</a>
                       
                </li>
                <li>
                    <a href="#" onclick="getBillDetails()"><span class="fa fa-file-o" ></span> Bills</a>
                    
                </li>
                <li>
                    <a href="#" onclick="getCommitteesDetails()"><span class="fa fa-sign-in" aria-hidden="true">Committees</a>
                </li>
                <li>
                    <a href="#" onclick="getFavoritesDetails()"><span class="fa fa-star"></span>Favorites</a>
                </li>
                    
                </ul>
            </div>
            <div id="output"  >
                <div class="container-fluid xyz">
                <div class="row">
                    <div class="col-xs-12">
                        <div id="lagislator_details_section" ng-controller="legis">
                            
                            <div class="row">
                                <div class="col-xs-1">
                                    <h3>Legislators</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <hr>
                                </div>
                            </div>
                          
                            <div class="carousel slide" id="legislator_by_state_carousal" data-interval="false">
                                <div class="carousel-inner" role="listbox">
                                    <div class="item active">
                                        <div class="panel-group">
                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <!-- Nav tabs -->
                                                    <ul class="nav nav-tabs" role="tablist">
                                                        <li role="presentation" class="active">
                                                            <a href="#bystate" aria-controls="bystate" role="tab" data-toggle="tab">By State</a>
                                                        </li>
                                                        <li role="presentation">
                                                            <a href="#house" aria-controls="house" role="tab" data-toggle="tab">House</a>
                                                        </li>
                                                        <li role="presentation">
                                                            <a href="#senate" aria-controls="senate" role="tab" data-toggle="tab">Senate</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="panel-body">
                                                    <div id="legislator_controller_div" >
                                                        <!-- Tab panes -->
                                                        <div class="tab-content">
                                                            <div role="tabpanel" class="tab-pane active" id="bystate">

                                                               
                                                                <div class="row">
                                                                    <div class="col-xs-12 panel-group">

                                                                        <div class="panel panel-default">
                                                                            
                                                                            <div class="panel-heading">
                                                                                <div class="row">
                                                                                    <div class="col-xs-3">
                                                                                        <h3>Legislators by State</h3>
                                                                                    </div>
                                                                                    <div class="col-xs-3 col-xs-offset-6">
                                                                                        <div class="form-group">
                                                                                            <select ng-model="stateFilter" id="state_filter" class="form-control">
                                                                                                <option value="">All states</option>
                                                                                                <option value="AL">Alabama</option>
                                                                                                <option value="AK">Alaska</option>
                                                                                                <option value="AZ">Arizona</option>
                                                                                                <option value="AR">Arkansas</option>
                                                                                                <option value="CA">California</option>
                                                                                                <option value="CO">Colorado</option>
                                                                                                <option value="CT">Connecticut</option>
                                                                                                <option value="DE">Delaware</option>
                                                                                                <option value="DC">District Of Columbia</option>
                                                                                                <option value="FL">Florida</option>
                                                                                                <option value="GA">Georgia</option>
                                                                                                <option value="HI">Hawaii</option>
                                                                                                <option value="ID">Idaho</option>
                                                                                                <option value="IL">Illinois</option>
                                                                                                <option value="IN">Indiana</option>
                                                                                                <option value="IA">Iowa</option>
                                                                                                <option value="KS">Kansas</option>
                                                                                                <option value="KY">Kentucky</option>
                                                                                                <option value="LA">Louisiana</option>
                                                                                                <option value="ME">Maine</option>
                                                                                                <option value="MD">Maryland</option>
                                                                                                <option value="MA">Massachusetts</option>
                                                                                                <option value="MI">Michigan</option>
                                                                                                <option value="MN">Minnesota</option>
                                                                                                <option value="MS">Mississippi</option>
                                                                                                <option value="MO">Missouri</option>
                                                                                                <option value="MT">Montana</option>
                                                                                                <option value="NE">Nebraska</option>
                                                                                                <option value="NV">Nevada</option>
                                                                                                <option value="NH">New Hampshire</option>
                                                                                                <option value="NJ">New Jersey</option>
                                                                                                <option value="NM">New Mexico</option>
                                                                                                <option value="NY">New York</option>
                                                                                                <option value="NC">North Carolina</option>
                                                                                                <option value="ND">North Dakota</option>
                                                                                                <option value="OH">Ohio</option>
                                                                                                <option value="OK">Oklahoma</option>
                                                                                                <option value="OR">Oregon</option>
                                                                                                <option value="PA">Pennsylvania</option>
                                                                                                <option value="RI">Rhode Island</option>
                                                                                                <option value="SC">South Carolina</option>
                                                                                                <option value="SD">South Dakota</option>
                                                                                                <option value="TN">Tennessee</option>
                                                                                                <option value="TX">Texas</option>
                                                                                                <option value="UT">Utah</option>
                                                                                                <option value="VT">Vermont</option>
                                                                                                <option value="VA">Virginia</option>
                                                                                                <option value="WA">Washington</option>
                                                                                                <option value="WV">West Virginia</option>
                                                                                                <option value="WI">Wisconsin</option>
                                                                                                <option value="WY">Wyoming</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <br>
                                                                            <div class="panel-body">
                                                                                <table class="table">
                                                                                    <thead>
                                                                                        <th>Party</th>
                                                                                        <th>Name</th>
                                                                                        <th>Chamber</th>
                                                                                        <th>District</th>
                                                                                        <th>State</th>
                                                                                        <th></th>
                                                                                    </thead>

                                                                                    <tbody>
                                                                                        <tr dir-paginate="result in filteredItems = (legislator_results | filter:{stateAbbr:stateFilter} | orderBy:['state','last_name'])  | itemsPerPage: 10">
                                                                                            
                                                                                            <td> <img ng-src="{{result.partyImg}}" height="35px" width="35px" /> </td>
                                                                                            <td>{{result.name}}</td>
                                                                                            <td><img ng-src="{{result.chamber_img_url}}" height="35px" width="35px" />{{result.chamber}}</td>
                                                                                            <td>{{result.district}}</td>
                                                                                            <td>{{result.state}}</td>
                                                                                            <div id="bioguide_id" style="display:none">should be bioguide id</div>
                                                                                            <td>
                                                                                                <input type="button" value="View Details" href="#legislator_by_state_carousal" ng-click="viewLegislatorDetails(result.bioguide_id)">
                                                                                                
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                        
                                                                            <div class="text-center">
                            <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="dirPagination.tpl.html"></dir-pagination-controls>
                        </div>
                                                                        
                                                                    </div>
                                                                </div>
                                                                <!-- Paginated table -->
                                                            </div>
                                                            <div role="tabpanel" class="tab-pane" id="house">

                                                                <div class="panel-group">
                                                                    <div class="panel panel-default">
                                                                        <div class="panel-heading">
                                                                            <div class="row">
                                                                                <div class="col-xs-3">
                                                                                    <h3>Legislators by House</h3>
                                                                                </div>
                                                                                <div class="col-xs-3 col-xs-offset-6">
                                                                                    <div class="form-group">
                                                                                        <input type="text" ng-model="legislator_search_text">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="panel-body">
                                                                            
                                                                            <table class="table">
                                                                                <thead>
                                                                                    <th>Party</th>
                                                                                    <th>Name</th>
                                                                                    <th>Chamber</th>
                                                                                    <th>District</th>
                                                                                    <th>State</th>
                                                                                    <th></th>
                                                                                </thead>

                                                                                <tbody>
                                                                                    <tr dir-paginate="result in filteredItems = (legislator_results | filter:{chamber:'House'} | filter:legislator_search_text | orderBy:['state','last_name'])  | itemsPerPage: 10">
                                                                                        
                                                                                        <td> <img ng-src="{{result.partyImg}}" height="35px" width="35px" /> </td>
                                                                                        <td>{{result.name}}</td>
                                                                                        <td><img ng-src="{{result.chamber_img_url}}" height="35px" width="35px" />{{result.chamber}}</td>
                                                                                        <td>{{result.district}}</td>
                                                                                        <td>{{result.state}}</td>
                                                                                        <div id="bioguide_id" style="display:none">should be bioguide id</div>
                                                                                        <td>
                                                                                            <input type="button" value="View Details" href="#legislator_by_state_carousal" ng-click="viewLegislatorDetails(result.bioguide_id)">
                                                                                            
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                    
                                                                        <div class="text-center">
                            <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="dirPagination.tpl.html"></dir-pagination-controls>
                        </div>
                                                                    
                                                                </div>


                                                            </div>
                                                            <div role="tabpanel" class="tab-pane" id="senate">

                                                                <div class="panel-group">
                                                                    <div class="panel panel-default">
                                                                        <div class="panel-heading">
                                                                            <div class="row">
                                                                                <div class="col-xs-3">
                                                                                    <h3>Legislators by Senate</h3>
                                                                                </div>
                                                                                <div class="col-xs-3 col-xs-offset-6">
                                                                                    <div class="form-group">
                                                                                        <input type="text" ng-model="legislator_search_text">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="panel-body">
                                                                            <table class="table">
                                                                                <thead>
                                                                                    <th>Party</th>
                                                                                    <th>Name</th>
                                                                                    <th>Chamber</th>
                                                                                    <th>District</th>
                                                                                    <th>State</th>
                                                                                    <th></th>
                                                                                </thead>

                                                                                <tbody>
                                                                                    <tr dir-paginate="result in filteredItems = (legislator_results | filter:{chamber:'Senate'} | filter:legislator_search_text | orderBy:['state','last_name'])  | itemsPerPage: 10">
                                                                                        
                                                                                        <td> <img ng-src="{{result.partyImg}}" height="35px" width="35px" /> </td>
                                                                                        <td>{{result.name}}</td>
                                                                                        <td><img ng-src="{{result.chamber_img_url}}" height="35px" width="35px" />{{result.chamber}}</td>
                                                                                        <td>{{result.district}}</td>
                                                                                        <td>{{result.state}}</td>
                                                                                        <div id="bioguide_id" style="display:none">should be bioguide id</div>
                                                                                        <td>
                                                                                            <input type="button" value="View Details" href="#legislator_by_state_carousal" ng-click="viewLegislatorDetails(result.bioguide_id)">
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        
                                                                        <div class="text-center">
                            <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="dirPagination.tpl.html"></dir-pagination-controls>
                        </div>
                                                                    
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="">

                                            <button href="#legislator_by_state_carousal" type="button" class="btn btn-default item1" aria-label="Left Align" onclick="slideToPrev()">
                                                <i class="fa fa-chevron-left" aria-hidden="true"></i>
                                            </button>
                                            <h3>Details</h3>
                                            <div id="full_legislator_controller_div" ng-controller="full_legislator_controller">
                                                <div style="width:50%; height: 50%; display: inline-block;">
                                                    <div style="width:50%; display: inline-block">
                                                        <img ng-src={{legislator_image}} height="150px" width="100px">
                                                    </div>
                                                    <div style="width:50%; display: inline-block">
                                                        <div>{{name}}</div>
                                                        <div><a href="mailto:{{email}}">{{email}}</a></div>
                                                        <div>{{chamber}}</div>
                                                        <div>{{contact}}</div>
                                                        <div><img ng-src="{{partyImg}}" width="35px" height="35px">{{party}}</div>
                                                    </div>
                                                </div>
                                                <div style="height: 50%; display: inline-block;">
                                                    <table class="table">
                                                        <thead>
                                                            <th>Chamber</th>
                                                            <th>Committee ID</th>
                                                            <th>Name</th>
                                                        </thead>

                                                        <tbody>
                                                            <tr ng-repeat="result in filteredItems = (legislator_committees)">
                                                                <td>{{result.chamber}}</td>
                                                                <td>{{result.committee_id}}</td>
                                                                <td>{{result.name}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>

                                                    <table class="table">
                                                        <thead>
                                                            <th>Bill ID</th>
                                                            <th>Title</th>
                                                            <th>Chamber</th>
                                                            <th>Bill Type</th>
                                                            <th>Congress</th>
                                                            <th>Link</th>
                                                        </thead>

                                                        <tbody>
                                                            <tr ng-repeat="result in filteredItems = (legislator_bills)">
                                                                <td>{{result.bill_id}}</td>
                                                                <td>{{result.title}}</td>
                                                                <td>{{result.chamber}}</td>
                                                                <td>{{result.bill_type}}</td>
                                                                <td>{{result.congress}}</td>
                                                                <td><a href="{{result.link}}" target="_blank">Link</a></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>

                                                </div>
                                                <div style="width:50%; display: inline-block">
                                                    <table>
                                                        <tr>
                                                            <td>Start Term</td>
                                                            <td>{{start_term}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>End Term</td>
                                                            <td>{{end_term}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Term</td>
                                                            <td>
                                                            <div class="progress">
    <div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width:{{term_progress}}%">
      {{term_progress}}%
    </div>
  </div></td>
                                                        </tr>
                                                        <tr>
                                                            <td>Office</td>
                                                            <td>{{office_address}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>State</td>
                                                            <td>{{state}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Fax</td>
                                                            <td>{{fax}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Birthday</td>
                                                            <td>{{dob}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Social Links</td>
                                                            <td>
                                                                <div ng-show="twitter_link != null">
                                                                    <a href="{{twitter_link}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/t.png" height="35px" width="35px"></a>
                                                                </div>
                                                                <div ng-show="facebook_link != null">
                                                                    <a href="{{facebook_link}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/f.png" height="35px" width="35px"></a>
                                                                </div>
                                                                <div ng-show="website_link != null">
                                                                    <a href="{{website_link}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/w.png" height="35px" width="35px"></a>
                                                                </div>
                                                            </td>
                                                        </tr>

                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="bill_details_section" ng-controller="full_bills_controller">

                        </div>

                        <div id="committees_details_section">

                        </div>

                        <div id="favorites_details_section">

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

        
        <!-- <script src="js/jquery-1.11.2.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/sidebar_menu.js"></script> -->

    <script src="js/main.js"></script>
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/a7d60cf4df.js"></script>

    </body>
</html>